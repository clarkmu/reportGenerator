<!DOCTYPE HTML>

<!--

    get csv in

    select charts to present

    csv to charts

    download as pdf

-->

<head>
    <link rel="stylesheet" href="style.css">
    <script src="charts.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

        approach(); 

    $(document).ready(function(){

        $("#fileForm").click(function(){

                //var path = { "path" : document.getElementById('f').value };
                var file = $('#fileSelect');
                var reader = new FileReader();
                var chartData = [];

                reader.onload = function(e) {
                    var contents = e.target.result;
                    var lines = contents.split("\n");
                    var line = lines[0].split(",");
                    chartData[0] = line;
                    for (var i=1; i<lines.length; i++) {
                        var line = lines[i].split(",");
                        var valueLine = [];
                        for (var j=0; j<line.length; j++) {
                            valueLine[j] = Number(line[j]);
                        }
                        chartData[i] = valueLine;
                    }
                    console.log(JSON.stringify(chartData));
                    setInfo(chartData);
                }
                reader.readAsText(file[0].files[0]);
/*
                $.ajax({
                    url: "file.php",
                    method: "POST",
                    data: formData,
                    cache: false,
                    contentType: false,
                    processData: false,
                    success: function(result){
                        setInfo(result);
                }});
*/        
        });

        $("#table").click(function(){

            var bool = $(this).checked == true;
            setTable(!bool);

            approach();

        });

        $("#scatter").click(function(){

            var bool = $(this).checked == true;
            setScatter(!bool);

            approach();

        });

    });

    </script>

</head>
<body>

<!--             SELECTION BAR              -->

<div style="border:solid; border-color: black;  background-color: #CCC;">

    <input type="file" name="fileSelect" id="fileSelect" /><br><br>

    <input type="checkbox" name="chartChk" value="table"     id="table"      >Table Chart<br>
    <input type="checkbox" name="chartChk" value="scatter"   id="scatter"    >Scatter Chart<br><br>

    <input type="button" value="Submit" id="fileForm"><br><br>

</div>


<!--             CHART TABLE             -->


<table align="center" border="solid">

    <tr>
        <td>
            <div id="first_div" hidden="true">1</div>
        </td>
        <td>
            <div id="second_div" hidden="true">2</div>
        </td>
    </tr>

    <tr>
        <td>
            <div id="third_div" hidden="true">3</div>
        </td>
        <td>
            <div id="fourth_div" hidden="true">4</div>
        </td>

    </tr>

</table>


</body>
</html>